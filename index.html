<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>节奏生成器</title>
    <!-- 设置浏览器图标 -->
    <link rel="icon" href="./image/logo.png" type="image/x-icon"/>
    <link rel="stylesheet" href="./css/index.css">


    <!-- Support Sources -->
    <script src="./lib/abcjs-basic-min.js"></script>
    <script src="./lib/html2canvas.min.js"></script>
    <script src="./js/RandomRhythms.js"></script>
    <script src="./js/loading.js"></script>
    <script src="./js/lockGenerate.js"></script>
    <script src="./js/index.js"></script>
</head>

<body>

<div class="container">
    <h1>随机16分节奏生成器</h1>

    <div class="instructions">
        <h3>使用说明</h3>
        <ul>
            <li>选择要生成的小节数量</li>
            <li>点击"生成节奏"按钮</li>
            <li>锁定后生成按钮禁用</li>
            <li>若不需要重新生成，网页会保存上次生成内容</li>
            <li>需要保存请使用"保存为图片"按钮</li>
        </ul>
    </div>

    <div class="controls">
        <div class="control-group-select">
            <label for="measure-count">小节数量：</label>
            <select id="measure-count">
                <option value="1">1 小节</option>
                <option value="2" selected>2 小节</option>
                <option value="4">4 小节</option>
                <option value="8">8 小节</option>
                <option value="16">16 小节</option>
                <option value="32">32 小节</option>
                <option value="64">64 小节（🌶️4️⃣💉💧🐮🍺）</option>
            </select>
        </div>


        <div class="control-group-button">
            <div class="button-container">
                <button id="generatedButton" class="action-button"
                        onclick="loadButton( 'generatedButton',() => generateRandomRhythm())">
                    <span class="spinner"></span>
                    生成节奏
                </button>
                <button id="lockButton" class="lock-button"
                        onclick="lockOrUnlockGenerated()">
                    <img id="lock-icon" class="unlock" src="./image/unlock.png"/>
                </button>
                <button id="saveImgButton" class="action-button"
                        onclick="loadButton('saveImgButton',() => saveImg())">
                    <span class="spinner"></span>
                    保存为图片
                </button>
            </div>
            <div class="button-container">

            </div>
        </div>

    </div>


    <div id="target"></div>


    <div class="img-container"></div>
</div>
<script>
    initPage()
    initGenerateActionsLockStatus()
</script>
</body>
</html>
